<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Haxademic.js Demo | </title>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/barebones.css">
    <link rel="stylesheet" href="../css/haxademic.css">
    <script src="../src/console.es6.js"></script>
    <script src="../vendor/zora.js"></script>
  </head>
  <body>
    <script type="module">
      import DOMUtil from '../src/dom-util.es6.js';
      import ErrorUtil from '../src/error-util.es6.js';
      import URLUtil from '../src/url-util.es6.js';

      // demos should auto-init to append to <body>
      window.autoInitDemo = true;

      // get demo name & turn into javascript include
      let demo = (document.location.hash.indexOf('&') == -1) ? document.location.hash : document.location.hash.split('&')[0]; // URLUtil.getHashQueryVariable('demo')
      let demoJsFile = `./demo-${demo.substring(1)}.es6.js?v=${Math.round(Math.random() * 9999999)}`;
      if(demo) {
        console.log("Loading demo: ", demoJsFile);
        ErrorUtil.initErrorCatching();
        DOMUtil.loadJavascript(demoJsFile, null, 'module');
      } else {
        document.location.href = '../';
      }
    </script>
  </body>
</html>
